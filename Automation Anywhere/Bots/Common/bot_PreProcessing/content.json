{"triggers":[],"nodes":[{"uid":"9470c1bf-c66a-401d-83cc-d7cf45ee0749","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"db342632-9cd6-41e4-9f8a-c7ef096595f6","commandName":"replace","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"$System:AATaskName$"}},{"name":"find","value":{"type":"STRING","string":"^\\\\(.+\\\\)*(.+)\\\\(.+)"}},{"name":"isCaseSensitive","value":{"type":"STRING","string":"false"}},{"name":"isRegularExpression","value":{"type":"STRING","string":"true"}},{"name":"startIndex","value":{"type":"NUMBER","number":"1"}},{"name":"count","value":{"type":"NUMBER","number":"-1"}},{"name":"replaceWith","value":{"type":"STRING","expression":"$sRegexBlock$"}}],"returnTo":{"type":"VARIABLE","variableName":"sTaskName"}}],"attributes":[{"name":"title","value":{"type":"STRING","string":"変数初期化"}}]},{"uid":"0360b082-34ff-4d65-b410-ced7b50bfa1b","commandName":"try","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"aeadfc41-4996-46a5-ac75-9352cb3604f5","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"d38d7ff7-b6c0-4f3e-916b-570e77a97aa0","commandName":"Comment","packageName":"Comment","disabled":false,"attributes":[{"name":"comment","value":{"type":"STRING","string":"パスが空"}}]},{"uid":"850e2f0e-eebf-4cf0-bcb7-90910e7866d1","commandName":"throw","packageName":"ErrorHandler","disabled":false,"attributes":[{"name":"message","value":{"type":"STRING","string":"フォルダパスのいずれかが空です"}},{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"variable","value":{"type":"STRING","expression":"$sAuditFolderPath$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"boolean":false,"type":"BOOLEAN"}}],"operatorAttribute":{"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$sOutputFolderPath$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"boolean":false,"type":"BOOLEAN"}}],"operatorAttribute":{"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$sWIPFolderPath$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"boolean":false,"type":"BOOLEAN"}}],"operatorAttribute":{"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"},"attributes":[{"name":"variable","value":{"type":"STRING","expression":"$sAuditFileName$"}},{"name":"operator","value":{"type":"STRING","string":"EQ"}},{"name":"value","value":{"type":"STRING","string":""}},{"name":"matchCase","value":{"type":"BOOLEAN","boolean":true}},{"name":"isIgnoreCarriage","value":{"boolean":false,"type":"BOOLEAN"}}],"operator":"OR"},"operator":"OR"},"operator":"OR"},"value":{"type":"CONDITIONAL","conditionalName":"stringVariable","packageName":"String"}}]},{"uid":"e345a307-2b80-4323-a41a-f0af343ce436","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"0a38884c-75a0-4ae4-b9bc-e7c119a6d690","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"765e451d-676c-4188-a94d-6ecce29e58dc","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sAuditFolderPath$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sAuditFolderPath$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"}}]},{"uid":"15a2cb9b-d789-4e39-8d3c-31c61c84c112","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"f67777b9-35cb-49c1-9801-9440034c4aed","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sOutputFolderPath$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sOutputFolderPath$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"}}]},{"uid":"5b98375d-c3b3-4a1f-9927-0cc3082239fe","commandName":"if","packageName":"If","disabled":false,"children":[{"uid":"38a2813f-e783-41c1-9581-73c046ac4484","commandName":"createFolder","packageName":"Folder","disabled":false,"attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sWIPFolderPath$"}},{"name":"isOverwrite","value":{"type":"BOOLEAN","boolean":false}}]}],"branches":[],"attributes":[{"name":"condition","attributes":[{"name":"folderPath","value":{"type":"STRING","expression":"$sWIPFolderPath$"}},{"name":"waitTimeout","value":{"type":"NUMBER","number":"0"}}],"value":{"type":"CONDITIONAL","conditionalName":"folderDoesNotExists","packageName":"Folder"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"フォルダ作成"}}]},{"uid":"feeda882-1441-4593-a1b4-abdb3a773987","commandName":"step","packageName":"Step","disabled":false,"children":[{"uid":"b04c5315-a493-4a90-86d4-a24d314777c3","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$sAuditFolderPath$/$sAuditFileName$.txt"}},{"name":"logContent","value":{"type":"STRING","string":"時刻,Bot名,内容"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":false}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"UTF8"}}]},{"uid":"e729fb19-5003-4179-be1f-821ae0756b9d","commandName":"logToFile","packageName":"LogToFile","disabled":false,"attributes":[{"name":"filePath","value":{"type":"FILE","expression":"file://$sAuditFolderPath$/$sAuditFileName$.txt"}},{"name":"logContent","value":{"type":"STRING","expression":",$sTaskName$,事前処理完了"}},{"name":"appendTimestamp","value":{"type":"BOOLEAN","boolean":true}},{"name":"logOption","value":{"type":"STRING","string":"APPEND_FILE"}},{"name":"encodingValue","value":{"type":"STRING","string":"UTF8"}}]}],"attributes":[{"name":"title","value":{"type":"STRING","string":"Audit Trail出力"}}]}],"branches":[{"uid":"ab1d46ad-3cfd-4b31-81a9-6350ba7dee24","commandName":"catch","packageName":"ErrorHandler","disabled":false,"children":[{"uid":"cb41836c-6227-47ac-9e8d-e4d60d027f43","commandName":"toString","packageName":"Number","disabled":false,"attributes":[{"name":"input","value":{"type":"NUMBER","expression":"$nErrLineNo$"}},{"name":"numFormatDigits","value":{"type":"NUMBER","number":"0"}}],"returnTo":{"type":"VARIABLE","variableName":"sErrLineNo"}},{"uid":"60bf849c-9ffd-4447-8b07-73fe05bfbd60","commandName":"assign","packageName":"String","disabled":false,"attributes":[{"name":"sourceString","value":{"type":"STRING","expression":"Bot名:$sTaskName$,エラー行:$sErrLineNo$,エラー内容:$sErrMsg$"}}],"returnTo":{"type":"VARIABLE","variableName":"sErrMsg"}},{"uid":"c8225194-4eca-419e-852a-e7d037ab5bdf","commandName":"throw","packageName":"ErrorHandler","disabled":false,"attributes":[{"name":"message","value":{"type":"STRING","expression":"$sErrMsg$"}},{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}]}],"attributes":[{"name":"exceptionType","value":{"type":"EXCEPTION","exceptionName":"BotException","packageName":"ErrorHandler"}}],"returns":{"errorMessage":{"type":"VARIABLE","variableName":"sErrMsg"},"errorLineNumber":{"type":"VARIABLE","variableName":"nErrLineNo"}}}]}],"variables":[{"name":"prompt-assignment","description":"A variable you can use for assignments","type":"STRING","subtype":"UNDEFINED","readOnly":false,"input":false,"output":false},{"name":"sAuditFolderPath","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sOutputFolderPath","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sWIPFolderPath","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sTaskName","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sRegexBlock","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":"$3"}},{"name":"sAuditFileName","description":"","type":"STRING","readOnly":false,"input":true,"output":false,"defaultValue":{"type":"STRING","string":""}},{"name":"sErrMsg","description":"","type":"STRING","readOnly":false,"input":false,"output":true,"defaultValue":{"type":"STRING","string":""}},{"name":"nErrLineNo","description":"","type":"NUMBER","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"NUMBER","number":"0"}},{"name":"sErrLineNo","description":"","type":"STRING","readOnly":false,"input":false,"output":false,"defaultValue":{"type":"STRING","string":""}}],"breakpoints":[],"packages":[{"name":"If","version":"2.1.0-20200825-071156"},{"name":"Step","version":"2.0.0-20200907-072944"},{"name":"ErrorHandler","version":"2.1.0-20200831-031055"},{"name":"Comment","version":"2.1.0-20200831-031015"},{"name":"System","version":"3.0.0-20200831-031944"},{"name":"LogToFile","version":"2.2.0-20200831-031539"},{"name":"Folder","version":"2.2.0-20200831-031100"},{"name":"Number","version":"2.1.0-20200831-031551"},{"name":"String","version":"3.1.0-20200831-031943"}],"workItemTemplateName":null}